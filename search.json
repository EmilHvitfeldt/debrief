[{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"primary-goal","dir":"","previous_headings":"","what":"Primary goal","title":"debrief package design","text":"Output easily parsed actionable AI agents. top priority. Every design decision flows : Parseable - Consistent structure AI can extract file paths, line numbers, function names, metrics Actionable - Include enough context (source code, percentages, concrete numbers) AI suggest specific fixes Concise - verbose prose; use structured lists, tables, clear labels Self-contained - output include information needed act without additional queries","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"do","dir":"","previous_headings":"","what":"Do","title":"debrief package design","text":"Always include filename:linenum source location available Show actual source code alongside hot spots AI can suggest fixes Use consistent column names (label, samples, time_ms, pct, filename, linenum) Return data frames pv_X() functions programmatic access Include percentages absolute numbers together Make error messages actionable - tell user exactly ","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"dont","dir":"","previous_headings":"","what":"Don’t","title":"debrief package design","text":"ANSI colors terminal escape codes Unicode characters - use ASCII cross-platform compatibility interactive prompts vague language (“functions”, “may slow”) - specific prose paragraphs - use structured output Don’t omit context require follow-query","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"function-naming","dir":"","previous_headings":"","what":"Function naming","title":"debrief package design","text":"exported functions use pv_ prefix pv_X() returns data (data frame list) programmatic use pv_print_X() prints formatted text returns invisibly Internal helpers prefix roxygen docs","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"common-parameters","dir":"","previous_headings":"","what":"Common parameters","title":"debrief package design","text":"Filtering parameters help AI agents focus significant results: - n - limit number results - min_pct - minimum percentage threshold - min_time_ms - minimum time threshold","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"input-validation","dir":"","previous_headings":"","what":"Input validation","title":"debrief package design","text":"Every exported function takes profvis object must start :","code":"check_profvis(x) check_empty_profile(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"error-handling","dir":"","previous_headings":"","what":"Error handling","title":"debrief package design","text":"Use stop(..., call. = FALSE) errors use cli rlang errors Error messages must actionable - tell user fix ","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"utilities","dir":"","previous_headings":"","what":"Utilities","title":"debrief package design","text":"R/utils.R contains shared helpers validation, data extraction, formatting. Read adding new functions.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/DESIGN.html","id":"adding-new-analysis-functions","dir":"","previous_headings":"","what":"Adding new analysis functions","title":"debrief package design","text":"Create pv_X() returns data frame standard columns Create pv_print_X() prints formatted output must call check_profvis(x) check_empty_profile(x) Add filtering parameters (n, min_pct, min_time_ms) appropriate Add _pkgdown.yml appropriate category Add tests tests/testthat/test-{name}.R Verify output serves primary goal - parseable, actionable, concise, self-contained?","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 debrief authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"about-this-case-study","dir":"Articles","previous_headings":"","what":"About this case study","title":"Case study: Using debrief for iterative R performance optimization","text":"case study conducted Claude (AI assistant) optimize tidypredict’s random forest parsing. Two important notes debrief package usage: prior knowledge: Claude prior knowledge debrief package session. package part Claude’s training data. documentation lookup: Claude read debrief’s documentation, README, help files. information provided user’s prompt showing basic usage pattern (pv_print_debrief(p)). interpretation output done first principles based section names content. Test-driven verification: optimization, Claude ran package’s existing test suite (devtools::test()) verify changes didn’t break functionality. 38 relevant tests (ranger: 18, randomForest: 13, partykit: 7) passed optimizations. demonstrates debrief’s output self-explanatory enough guide optimization work without requiring prior familiarity package. section names (TOP FUNCTIONS SELF-TIME, HOT LINES, MEMORY ALLOCATION) clearly communicate part shows, “Next steps” suggestions output hinted additional functions available.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Case study: Using debrief for iterative R performance optimization","text":"case study demonstrates debrief package can guide iterative performance optimization R. use tidypredict’s random forest parsing real-world example, achieving 331x speedup systematic profiling targeted fixes.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"problem-statement","dir":"Articles","previous_headings":"","what":"Problem statement","title":"Case study: Using debrief for iterative R performance optimization","text":"tidymodels/orbital#83 reported parsing random forest models tidypredict takes 45+ seconds single tree. rolled back problematic version (commit 0dde432) investigate.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"user-prompt","dir":"Articles","previous_headings":"Problem statement","what":"User prompt","title":"Case study: Using debrief for iterative R performance optimization","text":"user provided following instructions guide profiling session: prompt established workflow: profile profvis, analyze pv_print_debrief(), optimize, repeat.","code":"profile the tidypredict_fit call in the following code.  library(tidymodels) library(orbital)  rec_spec <- recipe(Sale_Price ~ ., data = ames) |>   step_normalize(all_numeric_predictors()) |>   step_dummy(all_nominal_predictors())  mod_spec <- rand_forest(\"regression\", trees = 1) wf_spec <- workflow(rec_spec, mod_spec) wf_fit <- fit(wf_spec, ames) rf_tree <- extract_fit_engine(wf_fit)  tmp <- tidypredict_fit(rf_tree)  I want you to use the profvis and debrief package to iteratively make improvements to the function  library(profvis) library(debrief)  # Profile some code p <- profvis({   # your code here })  pv_print_debrief(p)"},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"running-debrief","dir":"Articles","previous_headings":"Iteration 1: Initial profiling","what":"Running debrief","title":"Case study: Using debrief for iterative R performance optimization","text":"","code":"p <- profvis({   tmp <- tidypredict_fit(rf_tree) })  pv_print_debrief(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"debrief-output-key-sections","dir":"Articles","previous_headings":"Iteration 1: Initial profiling","what":"Debrief output (key sections)","title":"Case study: Using debrief for iterative R performance optimization","text":"","code":"## PROFILING SUMMARY  Total time: 47340 ms (4734 samples @ 10 ms interval)  ### TOP FUNCTIONS BY SELF-TIME  15180 ms ( 32.1%)  [.data.frame   5280 ms ( 11.2%)  <GC>   4220 ms (  8.9%)  sys.call   3950 ms (  8.3%)  [[.data.frame  ### HOT LINES (by self-time)  12710 ms ( 26.8%)  /R/model-ranger.R:6                    row <- tree[tree$nodeID == j, ]   2880 ms (  6.1%)  /R/model-ranger.R:7                    lc <- row[\"leftChild\"][[1]] == find   2580 ms (  5.4%)  /R/model-ranger.R:8                    lr <- row[\"rightChild\"][[1]] == find  ### MEMORY ALLOCATION (by line) 15655.00 MB /R/model-ranger.R:6             row <- tree[tree$nodeID == j, ]  3450.47 MB /R/model-ranger.R:7             lc <- row[\"leftChild\"][[1]] == find"},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"how-i-interpreted-this-output","dir":"Articles","previous_headings":"Iteration 1: Initial profiling","what":"How I interpreted this output","title":"Case study: Using debrief for iterative R performance optimization","text":"TOP FUNCTIONS SELF-TIME showed [.data.frame 32.1% - data.frame subsetting operator, suggesting repeated data.frame operations culprit. HOT LINES pinpointed exact line: row <- tree[tree$nodeID == j, ] consuming 26.8% total time. single line primary bottleneck. MEMORY ALLOCATION revealed line allocating 15.6 GB - explaining high GC time (11.2%). subsetting operation creates new data.frame copy. pattern: Line 6 inside loop (indicated variable j). Filtering data.frame tree[tree$nodeID == j, ] O(n) per call. loop, becomes O(n^2).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"optimization-applied","dir":"Articles","previous_headings":"Iteration 1: Initial profiling","what":"Optimization applied","title":"Case study: Using debrief for iterative R performance optimization","text":"Pre-extract columns vectors use direct indexing:","code":"# Before (O(n) per lookup): row <- tree[tree$nodeID == j, ] lc <- row[\"leftChild\"][[1]] == find  # After (O(1) per lookup): idx <- j + 1L lc <- left_child[idx] == find"},{"path":[]},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"debrief-output-after-first-optimization","dir":"Articles","previous_headings":"Iteration 2: Finding the next bottleneck","what":"Debrief output after first optimization","title":"Case study: Using debrief for iterative R performance optimization","text":"","code":"## PROFILING SUMMARY  Total time: 290 ms (29 samples @ 10 ms interval)  ### TOP FUNCTIONS BY SELF-TIME     60 ms ( 20.7%)  is.na     20 ms (  6.9%)  .f     20 ms (  6.9%)  if (lc || lr) {     20 ms (  6.9%)  lc <- left_child[idx] == find  ### HOT LINES (by self-time)     60 ms ( 20.7%)  /R/model-ranger.R:16                    if (is.na(lc)) {     20 ms (  6.9%)  /R/model-ranger.R:14                    lc <- left_child[idx] == find     20 ms (  6.9%)  /R/model-ranger.R:22                    if (lc || lr) {"},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"how-i-interpreted-this-output-1","dir":"Articles","previous_headings":"Iteration 2: Finding the next bottleneck","what":"How I interpreted this output","title":"Case study: Using debrief for iterative R performance optimization","text":"TOP FUNCTIONS SELF-TIME now showed .na top consumer 20.7%. bottleneck shifted data.frame operations NA checking. HOT LINES showed .na checks lines 16 19 called repeatedly loop. insight: code searching parent nodes iterating node_id 0, checking potential parent. linear search replaced direct lookup.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"optimization-applied-1","dir":"Articles","previous_headings":"Iteration 2: Finding the next bottleneck","what":"Optimization applied","title":"Case study: Using debrief for iterative R performance optimization","text":"Pre-compute parent relationships , traverse directly:","code":"# Before: Linear search for parent for (j in node_id:0) {   idx <- j + 1L   lc <- left_child[idx] == find   lr <- right_child[idx] == find   if (is.na(lc)) lc <- FALSE   if (is.na(lr)) lr <- FALSE   if (lc || lr) { ... } }  # After: Direct traversal using parent lookup while (!is.na(parent[current + 1L])) {   current <- parent[current + 1L]   path <- c(path, current) }"},{"path":[]},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"debrief-output-using-10-trees-for-better-sampling","dir":"Articles","previous_headings":"Iteration 3: Diminishing returns","what":"Debrief output (using 10 trees for better sampling)","title":"Case study: Using debrief for iterative R performance optimization","text":"","code":"## PROFILING SUMMARY  Total time: 1650 ms (165 samples @ 10 ms interval)  ### TOP FUNCTIONS BY SELF-TIME    280 ms ( 17.0%)  <GC>    200 ms ( 12.1%)  enexpr    110 ms (  6.7%)  reduce_impl  ### HOT LINES (by self-time)     60 ms (  3.6%)  /R/model-rf.R:80                    if (.x$op == \"less\") i <- expr(!!sym(.x$col) < !!.x$val)     30 ms (  1.8%)  /R/model-rf.R:78                    if (.x$op == \"more\") i <- expr(!!sym(.x$col) > !!.x$val)  ### TOP FUNCTIONS BY TOTAL TIME   1020 ms ( 61.8%)  path_formulas    500 ms ( 30.3%)  expr"},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"how-i-interpreted-this-output-2","dir":"Articles","previous_headings":"Iteration 3: Diminishing returns","what":"How I interpreted this output","title":"Case study: Using debrief for iterative R performance optimization","text":"TOP FUNCTIONS TOTAL TIME showed path_formulas 61.8% - bottleneck shifted formula building. HOT LINES showed multiple -statements checking .x$op repeatedly (lines 78-81). TOP FUNCTIONS SELF-TIME showed enexpr (expression building) reduce_impl top consumers - useful work. insight: -chain replaced switch(), ’re now optimizing code ’s inherent work. gains marginal.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"optimization-applied-2","dir":"Articles","previous_headings":"Iteration 3: Diminishing returns","what":"Optimization applied","title":"Case study: Using debrief for iterative R performance optimization","text":"Replace -chain switch statement:","code":"# Before: if (.x$op == \"more\") i <- expr(!!sym(.x$col) > !!.x$val) if (.x$op == \"more-equal\") i <- expr(!!sym(.x$col) >= !!.x$val) if (.x$op == \"less\") i <- expr(!!sym(.x$col) < !!.x$val) if (.x$op == \"less-equal\") i <- expr(!!sym(.x$col) <= !!.x$val)  # After: switch(   .x$op,   \"more\" = expr(!!col_sym > !!val),   \"more-equal\" = expr(!!col_sym >= !!val),   \"less\" = expr(!!col_sym < !!val),   \"less-equal\" = expr(!!col_sym <= !!val) )"},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"result-2","dir":"Articles","previous_headings":"Iteration 3: Diminishing returns","what":"Result","title":"Case study: Using debrief for iterative R performance optimization","text":"Minor improvement (~4%). remaining time expression building inherent task.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"why-i-only-used-pv_print_debrief","dir":"Articles","previous_headings":"","what":"Why I only used pv_print_debrief()","title":"Case study: Using debrief for iterative R performance optimization","text":"debrief package offers several functions, pv_print_debrief() suggests others end output:","code":"### Next steps pv_source_context(p, \"/R/model-ranger.R\") pv_suggestions(p) pv_focus(p, \".f\") pv_help()"},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"when-pv_print_debrief-alone-is-sufficient","dir":"Articles","previous_headings":"Why I only used pv_print_debrief()","what":"When pv_print_debrief() alone is sufficient","title":"Case study: Using debrief for iterative R performance optimization","text":"single function enough : HOT LINES gave exact locations - File path line number meant go straight problem code MEMORY ALLOCATION correlated time - lines appeared sections, confirming diagnosis Patterns recognizable - Data.frame subsetting loop known anti-pattern","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/articles/case-study-tidypredict.html","id":"when-to-use-the-other-functions","dir":"Articles","previous_headings":"Why I only used pv_print_debrief()","what":"When to use the other functions","title":"Case study: Using debrief for iterative R performance optimization","text":"reach additional functions : Diffuse profile - Time spread across many functions without clear culprit Complex call paths - Need understand bottleneck reached different entry points Unfamiliar codebase - pv_source_context() help see surrounding code without switching tools Stuck diagnosis - pv_suggestions() might catch patterns missed","code":""},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Emil Hvitfeldt. Author, maintainer.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hvitfeldt E (2026). debrief: Text-Based Summaries 'profvis' Profiling Data. R package version 0.0.0.9000, https://github.com/emilhvitfeldt/debrief.","code":"@Manual{,   title = {debrief: Text-Based Summaries for 'profvis' Profiling Data},   author = {Emil Hvitfeldt},   year = {2026},   note = {R package version 0.0.0.9000},   url = {https://github.com/emilhvitfeldt/debrief}, }"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"debrief","dir":"","previous_headings":"","what":"Text-Based Summaries for profvis Profiling Data","title":"Text-Based Summaries for profvis Profiling Data","text":"debrief provides text-based summaries analysis tools profvis profiling output. ’s designed terminal workflows AI agent consumption, offering views including hotspot analysis, call trees, source context, caller/callee relationships, memory allocation breakdowns.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Text-Based Summaries for profvis Profiling Data","text":"can install development version debrief GitHub :","code":"# install.packages(\"pak\") pak::pak(\"emilhvitfeldt/debrief\")"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Text-Based Summaries for profvis Profiling Data","text":"","code":"library(profvis) library(debrief)  # Profile some code p <- profvis({   # your code here })  # Get help on available functions pv_help()  # Start with a summary pv_print_debrief(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"typical-workflow","dir":"","previous_headings":"","what":"Typical Workflow","title":"Text-Based Summaries for profvis Profiling Data","text":"debrief designed iterative profiling. function prints “Next steps” suggestions guide deeper: pv_help() function lists available functions category.","code":"1. pv_print_debrief(p)  -> Overview: identifies hot functions and lines  2. pv_focus(p, \"hot_function\")  -> Deep dive: time breakdown, callers, callees, source  3. pv_hot_lines(p)  -> Exact lines: find the specific code consuming time  4. pv_source_context(p, \"file.R\")  -> Code view: see source with profiling data overlay  5. pv_suggestions(p)  -> Actions: get specific optimization recommendations"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Text-Based Summaries for profvis Profiling Data","text":"First, create profvis profile code. get source references profile, write code file source keep.source = TRUE:","code":"library(profvis) library(debrief)  # Write functions to a temp file for source references example_code <- ' process_data <- function(n) {   raw <- generate_data(n)   cleaned <- clean_data(raw)   summarize_data(cleaned) }  generate_data <- function(n) {   x <- rnorm(n)   y <- runif(n)   data.frame(x = x, y = y, z = x * y) }  clean_data <- function(df) {   df <- df[complete.cases(df), ]   df$x_scaled <- scale(df$x)   df$category <- cut(df$y, breaks = 5)   df }  summarize_data <- function(df) {   list(     means = colMeans(df[, c(\"x\", \"y\", \"z\")]),     sds = apply(df[, c(\"x\", \"y\", \"z\")], 2, sd),     counts = table(df$category),     text = paste(round(df$x, 2), collapse = \", \")   ) } '  writeLines(example_code, \"analysis.R\") source(\"analysis.R\", keep.source = TRUE)  # Profile the data pipeline p <- profvis({   results <- lapply(1:5, function(i) process_data(1e5)) })  unlink(\"analysis.R\")"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"quick-summary","dir":"","previous_headings":"Example","what":"Quick Summary","title":"Text-Based Summaries for profvis Profiling Data","text":"Get comprehensive overview pv_print_debrief():","code":"pv_print_debrief(p) #> ## PROFILING SUMMARY #>  #>  #> Total time: 180 ms (18 samples @ 10 ms interval) #> Source references: available #>  #>  #> ### TOP FUNCTIONS BY SELF-TIME #>    110 ms ( 61.1%)  paste #>     10 ms (  5.6%)  .bincode #>     10 ms (  5.6%)  anyDuplicated.default #>     10 ms (  5.6%)  apply #>     10 ms (  5.6%)  factor #>     10 ms (  5.6%)  match.arg #>     10 ms (  5.6%)  runif #>     10 ms (  5.6%)  unlist #>  #> ### TOP FUNCTIONS BY TOTAL TIME #>    180 ms (100.0%)  FUN #>    180 ms (100.0%)  lapply #>    180 ms (100.0%)  process_data #>    130 ms ( 72.2%)  summarize_data #>    110 ms ( 61.1%)  paste #>     30 ms ( 16.7%)  clean_data #>     20 ms ( 11.1%)  cut.default #>     20 ms ( 11.1%)  generate_data #>     10 ms (  5.6%)  .bincode #>     10 ms (  5.6%)  [.data.frame #>  #> ### HOT LINES (by self-time) #>    120 ms ( 66.7%)  analysis.R:22 #>                    list( #>     10 ms (  5.6%)  analysis.R:10 #>                    y <- runif(n) #>  #> ### HOT CALL PATHS #>  #> 110 ms (61.1%) - 11 samples: #>     lapply #>   -> FUN #>   -> process_data #>   -> summarize_data (analysis.R:5) #>   -> paste (analysis.R:22) #>  #> 10 ms (5.6%) - 1 samples: #>     lapply #>   -> FUN #>   -> process_data #>   -> clean_data (analysis.R:4) #>   -> [.data.frame (analysis.R:15) #>   -> anyDuplicated.default #>  #> 10 ms (5.6%) - 1 samples: #>     lapply #>   -> FUN #>   -> process_data #>   -> clean_data (analysis.R:4) #>   -> cut.default #>   -> .bincode #>  #> 10 ms (5.6%) - 1 samples: #>     lapply #>   -> FUN #>   -> process_data #>   -> clean_data (analysis.R:4) #>   -> cut.default #>   -> factor #>  #> 10 ms (5.6%) - 1 samples: #>     lapply #>   -> FUN #>   -> process_data #>   -> generate_data (analysis.R:3) #>   -> data.frame (analysis.R:11) #>   -> make.names #>   -> order #>   -> match.arg #>  #> ### MEMORY ALLOCATION (by function) #>    41.03 MB paste #>    10.01 MB anyDuplicated.default #>     2.90 MB match.arg #>     2.38 MB runif #>     0.61 MB unlist #>  #> ### MEMORY ALLOCATION (by line) #>    41.03 MB analysis.R:22 #>             list( #>     2.38 MB analysis.R:10 #>             y <- runif(n) #>  #> ### Next steps #> pv_focus(p, \"paste\") #> pv_source_context(p, \"analysis.R\") #> pv_suggestions(p) #> pv_help()"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"time-analysis","dir":"","previous_headings":"Example","what":"Time Analysis","title":"Text-Based Summaries for profvis Profiling Data","text":"Analyze time spent:","code":"# Self-time: time spent directly in each function pv_self_time(p) #>                   label samples time_ms  pct #> 1                 paste      11     110 61.1 #> 2              .bincode       1      10  5.6 #> 3 anyDuplicated.default       1      10  5.6 #> 4                 apply       1      10  5.6 #> 5                factor       1      10  5.6 #> 6             match.arg       1      10  5.6 #> 7                 runif       1      10  5.6 #> 8                unlist       1      10  5.6  # Total time: time spent in function + all its callees pv_total_time(p) #>                    label samples time_ms   pct #> 1                    FUN      18     180 100.0 #> 2                 lapply      18     180 100.0 #> 3           process_data      18     180 100.0 #> 4         summarize_data      13     130  72.2 #> 5                  paste      11     110  61.1 #> 6             clean_data       3      30  16.7 #> 7            cut.default       2      20  11.1 #> 8          generate_data       2      20  11.1 #> 9               .bincode       1      10   5.6 #> 10          [.data.frame       1      10   5.6 #> 11 anyDuplicated.default       1      10   5.6 #> 12                 apply       1      10   5.6 #> 13  as.matrix.data.frame       1      10   5.6 #> 14              colMeans       1      10   5.6 #> 15            data.frame       1      10   5.6 #> 16                factor       1      10   5.6 #> 17            make.names       1      10   5.6 #> 18             match.arg       1      10   5.6 #> 19                 order       1      10   5.6 #> 20                 runif       1      10   5.6 #> 21                unlist       1      10   5.6  # Filter to significant functions only pv_self_time(p, min_pct = 5) # >= 5% of time #>                   label samples time_ms  pct #> 1                 paste      11     110 61.1 #> 2              .bincode       1      10  5.6 #> 3 anyDuplicated.default       1      10  5.6 #> 4                 apply       1      10  5.6 #> 5                factor       1      10  5.6 #> 6             match.arg       1      10  5.6 #> 7                 runif       1      10  5.6 #> 8                unlist       1      10  5.6"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"hot-spots","dir":"","previous_headings":"Example","what":"Hot Spots","title":"Text-Based Summaries for profvis Profiling Data","text":"Find hottest lines call paths:","code":"# Hot source lines with context pv_print_hot_lines(p, n = 5, context = 3) #> ## HOT SOURCE LINES #>  #>  #> Rank 1: analysis.R:22 (120 ms, 66.7%) #> Function: paste #>  #>        19: } #>        20:  #>        21: summarize_data <- function(df) { #> >      22:   list( #>        23:     means = colMeans(df[, c(\"x\", \"y\", \"z\")]), #>        24:     sds = apply(df[, c(\"x\", \"y\", \"z\")], 2, sd), #>        25:     counts = table(df$category), #>  #> Rank 2: analysis.R:10 (10 ms, 5.6%) #> Function: runif #>  #>         7:  #>         8: generate_data <- function(n) { #>         9:   x <- rnorm(n) #> >      10:   y <- runif(n) #>        11:   data.frame(x = x, y = y, z = x * y) #>        12: } #>        13:  #>  #>  #> ### Next steps #> pv_focus(p, \"paste\") #> pv_source_context(p, \"analysis.R\")  # Hot call paths pv_print_hot_paths(p, n = 10) #> ## HOT CALL PATHS #>  #>  #> Rank 1: 110 ms (61.1%) - 11 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> summarize_data (analysis.R:5) #>   -> paste (analysis.R:22) #>  #> Rank 2: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> clean_data (analysis.R:4) #>   -> [.data.frame (analysis.R:15) #>   -> anyDuplicated.default #>  #> Rank 3: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> clean_data (analysis.R:4) #>   -> cut.default #>   -> .bincode #>  #> Rank 4: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> clean_data (analysis.R:4) #>   -> cut.default #>   -> factor #>  #> Rank 5: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> generate_data (analysis.R:3) #>   -> data.frame (analysis.R:11) #>   -> make.names #>   -> order #>   -> match.arg #>  #> Rank 6: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> generate_data (analysis.R:3) #>   -> runif (analysis.R:10) #>  #> Rank 7: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> summarize_data (analysis.R:5) #>   -> apply (analysis.R:22) #>  #> Rank 8: 10 ms (5.6%) - 1 samples #>     lapply #>   -> FUN #>   -> process_data #>   -> summarize_data (analysis.R:5) #>   -> colMeans (analysis.R:22) #>   -> as.matrix.data.frame #>   -> unlist #>  #>  #> ### Next steps #> pv_focus(p, \"paste\") #> pv_flame(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"function-analysis","dir":"","previous_headings":"Example","what":"Function Analysis","title":"Text-Based Summaries for profvis Profiling Data","text":"Deep dive specific function:","code":"pv_focus(p, \"clean_data\") #> ## FOCUS: clean_data #>  #>  #> ### Time Analysis #>   Total time:       30 ms ( 16.7%)  - time on call stack #>   Self time:         0 ms (  0.0%)  - time at top of stack #>   Child time:       30 ms ( 16.7%)  - time in callees #>   Appearances:       3 samples #>  #> ### Called By #>       3 calls (100.0%)  process_data #>  #> ### Calls To #>       2 calls ( 66.7%)  cut.default #>       1 calls ( 33.3%)  [.data.frame #>  #> ### Source Locations #>   No self-time with source info. #>  #> ### Next steps #> pv_focus(p, \"cut.default\") #> pv_callers(p, \"clean_data\") #> pv_focus(p, \"process_data\")"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"call-relationships","dir":"","previous_headings":"Example","what":"Call Relationships","title":"Text-Based Summaries for profvis Profiling Data","text":"Understand calls :","code":"# Who calls this function? pv_callers(p, \"clean_data\") #>          label samples pct #> 1 process_data       3 100  # What does this function call? pv_callees(p, \"process_data\") #>            label samples  pct #> 1 summarize_data      13 72.2 #> 2     clean_data       3 16.7 #> 3  generate_data       2 11.1  # Full caller/callee analysis pv_print_callers_callees(p, \"summarize_data\") #> ## FUNCTION ANALYSIS: summarize_data #>  #>  #> Total time: 130 ms (72.2% of profile) #> Appearances: 13 samples #>  #> ### Called by #>      13 samples (100.0%)  process_data #>  #> ### Calls to #>      11 samples ( 84.6%)  paste #>       1 samples (  7.7%)  apply #>       1 samples (  7.7%)  colMeans #>  #> ### Next steps #> pv_focus(p, \"summarize_data\") #> pv_focus(p, \"process_data\") #> pv_focus(p, \"paste\")"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"memory-analysis","dir":"","previous_headings":"Example","what":"Memory Analysis","title":"Text-Based Summaries for profvis Profiling Data","text":"Track memory allocations:","code":"# Memory by function pv_print_memory(p, n = 10, by = \"function\") #> ## MEMORY ALLOCATION BY FUNCTION #>  #>  #>    41.03 MB paste #>    10.01 MB anyDuplicated.default #>     2.90 MB match.arg #>     2.38 MB runif #>     0.61 MB unlist #>  #> ### Next steps #> pv_focus(p, \"paste\") #> pv_gc_pressure(p)  # Memory by source line pv_print_memory(p, n = 10, by = \"line\") #> ## MEMORY ALLOCATION BY LINE #>  #>  #>    41.03 MB analysis.R:22 #>             list( #>     2.38 MB analysis.R:10 #>             y <- runif(n) #>  #> ### Next steps #> pv_focus(p, \"paste\") #> pv_source_context(p, \"analysis.R\")"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"text-based-flame-graph","dir":"","previous_headings":"Example","what":"Text-based Flame Graph","title":"Text-Based Summaries for profvis Profiling Data","text":"Visualize call tree:","code":"pv_flame(p, width = 70, min_pct = 2) #> ## FLAME GRAPH (text) #>  #>  #> Total time: 180 ms | Width: 70 chars | Min: 2% #>  #> [======================================================================] (root) 100% #> [======================================================================]   lapply (100.0%) #> [======================================================================]     FUN (100.0%) #> [======================================================================]       process_data (100.0%) #> [===================================================                   ]         summarize_data (72.2%) #> [============                                                          ]         clean_data (16.7%) #> [========                                                              ]         generate_data (11.1%) #> [===========================================                           ]           paste (61.1%) #> [========                                                              ]           cut.default (11.1%) #> [====                                                                  ]           runif (5.6%) #> [====                                                                  ]           data.frame (5.6%) #> [====                                                                  ]           apply (5.6%) #> [====                                                                  ]           [.data.frame (5.6%) #> [====                                                                  ]           colMeans (5.6%) #> [====                                                                  ]             factor (5.6%) #> [====                                                                  ]             .bincode (5.6%) #> [====                                                                  ]             make.names (5.6%) #> [====                                                                  ]             anyDuplicated.default (5.6%) #> [====                                                                  ]             as.matrix.data.frame (5.6%) #> [====                                                                  ]               order (5.6%) #> [====                                                                  ]               unlist (5.6%) #> [====                                                                  ]                 match.arg (5.6%) #>  #> Legend: [====] = time spent, width proportional to time #>  #> ### Next steps #> pv_focus(p, \"lapply\") #> pv_hot_paths(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"compare-profiles","dir":"","previous_headings":"Example","what":"Compare Profiles","title":"Text-Based Summaries for profvis Profiling Data","text":"Measure optimization impact:","code":"# Approach 1: Growing vectors in a loop (slow) p_slow <- profvis({   result <- c()   for (i in 1:20000) {     result <- c(result, sqrt(i) * log(i))   } })  # Approach 2: Vectorized with memory allocation p_fast <- profvis({   x <- rnorm(5e6)   y <- cumsum(x)   z <- paste(head(round(x, 2), 50000), collapse = \", \") })  # Compare two profiles pv_print_compare(p_slow, p_fast) #> ## PROFILE COMPARISON #>  #>  #>  #> ### Overall #> before_ms: 270 #> after_ms: 200 #> diff_ms: -70 #> speedup: 1.35x #>  #> ### Biggest Changes #> Function                           Before      After       Diff   Change #> c                                     220          0       -220    -100% #> head                                    0         90        +90      new #> rnorm                                   0         60        +60      new #> <GC>                                   50         40        -10     -20% #> paste                                   0         10        +10      new #>  #> ### Top Improvements #>   c: 220 -> 0 (-220 ms) #>   <GC>: 50 -> 40 (-10 ms) #>  #> ### Regressions #>   head: 0 -> 90 (+90 ms) #>   rnorm: 0 -> 60 (+60 ms) #>   paste: 0 -> 10 (+10 ms) #>  #> ### Next steps #> pv_focus(p_before, \"c\") #> pv_focus(p_after, \"c\")  # Approach 3: Data frame operations p_dataframe <- profvis({   df <- data.frame(     a = rnorm(1e6),     b = runif(1e6),     c = sample(letters, 1e6, replace = TRUE)   )   df$d <- df$a * df$b   result <- aggregate(d ~ c, data = df, FUN = mean) })  # Compare all three approaches pv_print_compare_many(   growing_vector = p_slow,   vectorized = p_fast,   dataframe_ops = p_dataframe ) #> ## MULTI-PROFILE COMPARISON #>  #>  #> Rank  Profile                    Time (ms)  Samples vs Fastest #>   1*  dataframe_ops                    130       13    fastest #>   2   vectorized                       200       20      1.54x #>   3   growing_vector                   270       27      2.08x #>  #> * = fastest"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"diagnostics","dir":"","previous_headings":"Example","what":"Diagnostics","title":"Text-Based Summaries for profvis Profiling Data","text":"Detect GC pressure get optimization suggestions:","code":"# Detect GC pressure (indicates memory allocation issues) pv_print_gc_pressure(p) #> ## GC PRESSURE #>  #>  #> No significant GC pressure detected (<10% of time). #> Run pv_help() to see all available functions.  # Get actionable optimization suggestions pv_print_suggestions(p) #> ## OPTIMIZATION SUGGESTIONS #>  #>  #> ### Priority 1 #>  #> category: hot line #> location: analysis.R:22 #> action: Optimize hot line (66.7%) #> pattern: paste #> potential_impact: 120 ms (66.7%) #>  #> category: hot line #> location: analysis.R:10 #> action: Optimize hot line (5.6%) #> pattern: runif #> potential_impact: 10 ms (5.6%) #>  #> ### Priority 2 #>  #> category: hot function #> location: paste #> action: Profile in isolation (61.1% self-time) #> pattern: paste #> potential_impact: 110 ms (61.1%) #>  #> ### Priority 3 #>  #> category: string operations #> location: paste #> action: Optimize string operations (61.1%) #> pattern: string ops in loops, regex without fixed=TRUE #> replacement: pre-compute, fixed=TRUE, stringi package #> potential_impact: Up to 55 ms (31%) #>  #>  #> ### Next steps #> pv_hot_lines(p) #> pv_gc_pressure(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"export-for-ai-agents","dir":"","previous_headings":"Example","what":"Export for AI Agents","title":"Text-Based Summaries for profvis Profiling Data","text":"Export structured data programmatic access:","code":"# Export as R list for programmatic access results <- pv_to_list(p) names(results) #> [1] \"metadata\"    \"summary\"     \"self_time\"   \"total_time\"  \"hot_lines\"   #> [6] \"memory\"      \"gc_pressure\" \"suggestions\" \"recursive\"  # Data frame of functions by self-time results$self_time #>                   label samples time_ms  pct #> 1                 paste      11     110 61.1 #> 2              .bincode       1      10  5.6 #> 3 anyDuplicated.default       1      10  5.6 #> 4                 apply       1      10  5.6 #> 5                factor       1      10  5.6 #> 6             match.arg       1      10  5.6 #> 7                 runif       1      10  5.6 #> 8                unlist       1      10  5.6"},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/index.html","id":"filtering-support","dir":"","previous_headings":"Available Functions","what":"Filtering Support","title":"Text-Based Summaries for profvis Profiling Data","text":"Time hot spot functions support filtering:","code":"# Filter by percentage threshold pv_self_time(p, min_pct = 5) pv_hot_lines(p, min_pct = 10)  # Filter by time threshold pv_self_time(p, min_time_ms = 100)  # Limit number of results pv_self_time(p, n = 10)  # Combine filters pv_hot_lines(p, n = 5, min_pct = 2, min_time_ms = 10)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/debrief-package.html","id":null,"dir":"Reference","previous_headings":"","what":"debrief: Text-Based Summaries for 'profvis' Profiling Data — debrief-package","title":"debrief: Text-Based Summaries for 'profvis' Profiling Data — debrief-package","text":"Provides text-based summaries analysis tools 'profvis' profiling output. Designed terminal workflows AI agent consumption, offering views including hotspot analysis, call trees, source context, caller/callee relationships, memory allocation breakdowns.","code":""},{"path":[]},{"path":"https://emilhvitfeldt.github.io/debrief/reference/debrief-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"debrief: Text-Based Summaries for 'profvis' Profiling Data — debrief-package","text":"Maintainer: Emil Hvitfeldt emil.hvitfeldt@posit.co","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_depth.html","id":null,"dir":"Reference","previous_headings":"","what":"Call depth breakdown — pv_call_depth","title":"Call depth breakdown — pv_call_depth","text":"Shows time distribution across different call stack depths. Useful understanding deeply nested hot code paths .","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_depth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Call depth breakdown — pv_call_depth","text":"","code":"pv_call_depth(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_depth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Call depth breakdown — pv_call_depth","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_depth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Call depth breakdown — pv_call_depth","text":"data frame columns: depth: Call stack depth (1 = top level) samples: Number profiling samples depth time_ms: Time milliseconds pct: Percentage total time top_funcs: common functions depth","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_depth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Call depth breakdown — pv_call_depth","text":"","code":"p <- pv_example() pv_call_depth(p) #>   depth samples time_ms   pct #> 1     1      14      70 100.0 #> 2     2      14      70 100.0 #> 3     3      11      55  78.6 #>                                                   top_funcs #> 1                                              process_data #> 2                             generate_data, transform_data #> 3 rnorm, x[i] <- rnorm(1), result[i] <- sqrt(abs(x[i])) * 2"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Call statistics summary — pv_call_stats","title":"Call statistics summary — pv_call_stats","text":"Shows call count, total time, self time, time per call function. especially useful identifying functions called many times (per-call optimization reducing call count help).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Call statistics summary — pv_call_stats","text":"","code":"pv_call_stats(x, n = NULL)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Call statistics summary — pv_call_stats","text":"x profvis object. n Maximum number functions return. NULL, returns .","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Call statistics summary — pv_call_stats","text":"data frame columns: label: Function name calls: Estimated number calls (based stack appearances) total_ms: Total time call stack self_ms: Time top stack (self time) child_ms: Time callees ms_per_call: Average milliseconds per call pct: Percentage total profile time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_call_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Call statistics summary — pv_call_stats","text":"","code":"p <- pv_example() pv_call_stats(p) #>                              label calls total_ms self_ms child_ms ms_per_call #> 1                     process_data     1       70       0       70        70.0 #> 2                    generate_data     2       65      15       50        32.5 #> 3                            rnorm     4       30      30        0         7.5 #> 4                 x[i] <- rnorm(1)     4       20      20        0         5.0 #> 5 result[i] <- sqrt(abs(x[i])) * 2     1        5       5        0         5.0 #> 6                   transform_data     1        5       0        5         5.0 #>     pct #> 1 100.0 #> 2  92.9 #> 3  42.9 #> 4  28.6 #> 5   7.1 #> 6   7.1"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callees.html","id":null,"dir":"Reference","previous_headings":"","what":"Get callees of a function — pv_callees","title":"Get callees of a function — pv_callees","text":"Returns functions specified function calls, based profiling data. Shows target function invokes.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callees.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get callees of a function — pv_callees","text":"","code":"pv_callees(x, func)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callees.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get callees of a function — pv_callees","text":"x profvis object. func function name analyze.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callees.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get callees of a function — pv_callees","text":"data frame columns: label: Callee function name samples: Number times callee appeared pct: Percentage calls callee","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callees.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get callees of a function — pv_callees","text":"","code":"p <- pv_example() pv_callees(p, \"outer\") #> Function 'outer' not found in profiling data. #> [1] label   samples pct     #> <0 rows> (or 0-length row.names)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callers.html","id":null,"dir":"Reference","previous_headings":"","what":"Get callers of a function — pv_callers","title":"Get callers of a function — pv_callers","text":"Returns functions call specified function, based profiling data. Shows invokes target function.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get callers of a function — pv_callers","text":"","code":"pv_callers(x, func)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get callers of a function — pv_callers","text":"x profvis object. func function name analyze.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get callers of a function — pv_callers","text":"data frame columns: label: Caller function name samples: Number times caller appeared pct: Percentage calls caller","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_callers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get callers of a function — pv_callers","text":"","code":"p <- pv_example() pv_callers(p, \"inner\") #> Function 'inner' not found in profiling data. #> [1] label   samples pct     #> <0 rows> (or 0-length row.names)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare two profvis profiles — pv_compare","title":"Compare two profvis profiles — pv_compare","text":"Compares two profiling runs show changed. Useful measuring impact optimizations.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare two profvis profiles — pv_compare","text":"","code":"pv_compare(before, after, n = 20)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare two profvis profiles — pv_compare","text":"profvis object (optimization). profvis object (optimization). n Number top functions compare.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare two profvis profiles — pv_compare","text":"list : summary: Overall comparison summary by_function: Function--function comparison improved: Functions got faster regressed: Functions got slower","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare two profvis profiles — pv_compare","text":"","code":"p1 <- pv_example() p2 <- pv_example() pv_compare(p1, p2) #> $summary #>            metric before after        change #> 1 Total time (ms)     70    70 +0 ms (+0.0%) #> 2         Samples     14    14            +0 #> 3         Speedup      1     1         1.00x #>  #> $by_function #>                              label before_ms after_ms diff_ms pct_change #> 1                            rnorm        30       30       0          0 #> 2                 x[i] <- rnorm(1)        20       20       0          0 #> 3                    generate_data        15       15       0          0 #> 4 result[i] <- sqrt(abs(x[i])) * 2         5        5       0          0 #>  #> $improved #> [1] label      before_ms  after_ms   diff_ms    pct_change #> <0 rows> (or 0-length row.names) #>  #> $regressed #> [1] label      before_ms  after_ms   diff_ms    pct_change #> <0 rows> (or 0-length row.names) #>"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare_many.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare multiple profvis profiles — pv_compare_many","title":"Compare multiple profvis profiles — pv_compare_many","text":"Compares multiple profiling runs identify fastest. Useful comparing different optimization approaches.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare_many.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare multiple profvis profiles — pv_compare_many","text":"","code":"pv_compare_many(...)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare_many.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare multiple profvis profiles — pv_compare_many","text":"... Named profvis objects compare, single named list profvis objects.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare_many.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare multiple profvis profiles — pv_compare_many","text":"data frame columns: name: Profile name time_ms: Total time milliseconds samples: Number samples vs_fastest: much slower fastest (e.g., \"1.5x\") rank: Rank fastest (1) slowest","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_compare_many.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare multiple profvis profiles — pv_compare_many","text":"","code":"p1 <- pv_example() p2 <- pv_example(\"gc\") p3 <- pv_example(\"recursive\") pv_compare_many(baseline = p1, gc_heavy = p2, recursive = p3) #>        name time_ms samples vs_fastest rank #> 1 recursive      30       3    fastest    1 #> 2  baseline      70      14      2.33x    2 #> 3  gc_heavy     100      10      3.33x    3  # Or pass a named list profiles <- list(baseline = p1, gc_heavy = p2) pv_compare_many(profiles) #>       name time_ms samples vs_fastest rank #> 1 baseline      70      14    fastest    1 #> 2 gc_heavy     100      10      1.43x    2"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_debrief.html","id":null,"dir":"Reference","previous_headings":"","what":"Comprehensive profiling data — pv_debrief","title":"Comprehensive profiling data — pv_debrief","text":"Returns profiling analysis single list programmatic access. primary function AI agents scripts need comprehensive profiling data without printed output.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_debrief.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Comprehensive profiling data — pv_debrief","text":"","code":"pv_debrief(x, n = 10)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_debrief.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Comprehensive profiling data — pv_debrief","text":"x profvis object profvis::profvis(). n Maximum number items include category (default 10).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_debrief.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Comprehensive profiling data — pv_debrief","text":"list containing: total_time_ms: Total profiling time milliseconds total_samples: Number profiling samples interval_ms: Sampling interval milliseconds has_source: Whether source references available self_time: Data frame functions self-time total_time: Data frame functions total time hot_lines: Data frame hot source lines (NULL source refs) hot_paths: Data frame hot call paths suggestions: Data frame optimization suggestions gc_pressure: Data frame GC pressure analysis memory: Data frame memory allocation function memory_lines: Data frame memory allocation line (NULL)","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_debrief.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Comprehensive profiling data — pv_debrief","text":"","code":"p <- pv_example() d <- pv_debrief(p) names(d) #>  [1] \"total_time_ms\" \"total_samples\" \"interval_ms\"   \"has_source\"    #>  [5] \"self_time\"     \"total_time\"    \"hot_lines\"     \"hot_paths\"     #>  [9] \"suggestions\"   \"gc_pressure\"   \"memory\"        \"memory_lines\"  d$self_time #>                              label samples time_ms  pct #> 1                            rnorm       6      30 42.9 #> 2                 x[i] <- rnorm(1)       4      20 28.6 #> 3                    generate_data       3      15 21.4 #> 4 result[i] <- sqrt(abs(x[i])) * 2       1       5  7.1"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_example.html","id":null,"dir":"Reference","previous_headings":"","what":"Example profvis data — pv_example","title":"Example profvis data — pv_example","text":"Creates example profvis object use examples testing. avoids need run actual profiling code examples.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_example.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example profvis data — pv_example","text":"","code":"pv_example(type = c(\"default\", \"no_source\", \"recursive\", \"gc\"))"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_example.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Example profvis data — pv_example","text":"type Type example data create: \"default\": real profile captured example code source refs \"no_source\": synthetic profile without source references \"recursive\": synthetic profile recursive function calls \"gc\": synthetic profile garbage collection pressure","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_example.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Example profvis data — pv_example","text":"profvis object can used debrief functions.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_example.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example profvis data — pv_example","text":"","code":"# Get default example data p <- pv_example() pv_self_time(p) #>                              label samples time_ms  pct #> 1                            rnorm       6      30 42.9 #> 2                 x[i] <- rnorm(1)       4      20 28.6 #> 3                    generate_data       3      15 21.4 #> 4 result[i] <- sqrt(abs(x[i])) * 2       1       5  7.1  # Get example with recursive calls p_recursive <- pv_example(\"recursive\") pv_recursive(p_recursive) #>     label max_depth avg_depth recursive_samples total_samples pct_recursive #> 1 recurse         5         4                 3             3           100 #>   total_ms pct_time #> 1       30      100"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_file_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"File-level time summary — pv_file_summary","title":"File-level time summary — pv_file_summary","text":"Aggregates profiling time source file. Requires source references (use devtools::load_all() best results).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_file_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"File-level time summary — pv_file_summary","text":"","code":"pv_file_summary(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_file_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"File-level time summary — pv_file_summary","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_file_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"File-level time summary — pv_file_summary","text":"data frame columns: filename: Source file path samples: Number profiling samples time_ms: Time milliseconds pct: Percentage total time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_file_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"File-level time summary — pv_file_summary","text":"","code":"p <- pv_example() pv_file_summary(p) #>         filename samples time_ms pct #> 1 example_code.R      14      70 100"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame.html","id":null,"dir":"Reference","previous_headings":"","what":"Text-based flame graph — pv_flame","title":"Text-based flame graph — pv_flame","text":"Generates ASCII representation flame graph showing hierarchical breakdown time spent call tree.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Text-based flame graph — pv_flame","text":"","code":"pv_flame(x, width = 70, min_pct = 2, max_depth = 15)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Text-based flame graph — pv_flame","text":"x profvis object. width Width flame graph characters. min_pct Minimum percentage show (filters small slices). max_depth Maximum depth display.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Text-based flame graph — pv_flame","text":"Invisibly returns flame data structure.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Text-based flame graph — pv_flame","text":"","code":"p <- pv_example() pv_flame(p) #> ## FLAME GRAPH (text) #>  #>  #> Total time: 70 ms | Width: 70 chars | Min: 2% #>  #> [======================================================================] (root) 100% #> [======================================================================]   process_data (100.0%) #> [=================================================================     ]     generate_data (92.9%) #> [=====                                                                 ]     transform_data (7.1%) #> [==============================                                        ]       rnorm (42.9%) #> [====================                                                  ]       x[i] <- rnorm(1) (28.6%) #> [=====                                                                 ]       result[i] <- sqrt(abs(x[i])) * 2 (7.1%) #>  #> Legend: [====] = time spent, width proportional to time #>  #> ### Next steps #> pv_focus(p, \"process_data\") #> pv_hot_paths(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame_condense.html","id":null,"dir":"Reference","previous_headings":"","what":"Condensed flame graph — pv_flame_condense","title":"Condensed flame graph — pv_flame_condense","text":"Shows simplified, condensed view flame graph focusing hottest paths.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame_condense.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Condensed flame graph — pv_flame_condense","text":"","code":"pv_flame_condense(x, n = 10, width = 50)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame_condense.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Condensed flame graph — pv_flame_condense","text":"x profvis object. n Number hot paths show. width Width bars.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_flame_condense.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Condensed flame graph — pv_flame_condense","text":"Invisibly returns data frame path, samples, pct columns.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_focus.html","id":null,"dir":"Reference","previous_headings":"","what":"Focused analysis of a specific function — pv_focus","title":"Focused analysis of a specific function — pv_focus","text":"Provides comprehensive analysis single function including time breakdown, callers, callees, source context available.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_focus.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Focused analysis of a specific function — pv_focus","text":"","code":"pv_focus(x, func, context = 5)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_focus.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Focused analysis of a specific function — pv_focus","text":"x profvis object. func function name analyze. context Number source lines show around hotspots.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_focus.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Focused analysis of a specific function — pv_focus","text":"Invisibly returns list analysis components.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_focus.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Focused analysis of a specific function — pv_focus","text":"","code":"p <- pv_example() pv_focus(p, \"inner\") #> Function 'inner' not found in profiling data. #>  #> Available functions (top 20 by time): #>   process_data #>   generate_data #>   rnorm #>   x[i] <- rnorm(1) #>   result[i] <- sqrt(abs(x[i])) * 2 #>   transform_data #>  #> Run pv_help() to see all available functions."},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_gc_pressure.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect GC pressure — pv_gc_pressure","title":"Detect GC pressure — pv_gc_pressure","text":"Analyzes profile detect excessive garbage collection, universal indicator memory allocation issues R code.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_gc_pressure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect GC pressure — pv_gc_pressure","text":"","code":"pv_gc_pressure(x, threshold = 10)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_gc_pressure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect GC pressure — pv_gc_pressure","text":"x profvis object. threshold Minimum GC percentage report (default 10). Set lower detect smaller GC overhead.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_gc_pressure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect GC pressure — pv_gc_pressure","text":"data frame columns: severity: \"high\" (>25%), \"medium\" (>15%), \"low\" (>threshold%) pct: Percentage total time spent GC time_ms: Time spent garbage collection issue: Short description problem cause: typically causes issue actions: Comma-separated list things look Returns empty data frame (0 rows) GC threshold.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_gc_pressure.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Detect GC pressure — pv_gc_pressure","text":"GC pressure 10% typically indicates code allocating discarding memory faster necessary. Common causes include: Growing vectors c(x, new) instead pre-allocation Building data frames row--row rbind() Creating unnecessary copies large objects String concatenation loops","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_gc_pressure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect GC pressure — pv_gc_pressure","text":"","code":"p <- pv_example(\"gc\") pv_gc_pressure(p) #>   severity pct time_ms                    issue                       cause #> 1     high  40      40 High GC overhead (40.0%) Excessive memory allocation #>                                                        actions #> 1 growing vectors, repeated data frame ops, unnecessary copies  # More sensitive detection pv_gc_pressure(p, threshold = 5) #>   severity pct time_ms                    issue                       cause #> 1     high  40      40 High GC overhead (40.0%) Excessive memory allocation #>                                                        actions #> 1 growing vectors, repeated data frame ops, unnecessary copies  # No GC pressure in default example p2 <- pv_example() pv_gc_pressure(p2) #> [1] severity pct      time_ms  issue    cause    actions  #> <0 rows> (or 0-length row.names)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_help.html","id":null,"dir":"Reference","previous_headings":"","what":"List available debrief functions — pv_help","title":"List available debrief functions — pv_help","text":"Prints summary available functions debrief package, organized category. Useful discovering API.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_help.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List available debrief functions — pv_help","text":"","code":"pv_help(category = NULL)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_help.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List available debrief functions — pv_help","text":"category Optional category filter . NULL, shows categories. Options: \"overview\", \"time\", \"hotspots\", \"memory\", \"calls\", \"source\", \"visualization\", \"comparison\", \"diagnostics\", \"export\".","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_help.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List available debrief functions — pv_help","text":"Invisibly returns list functions category.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_help.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List available debrief functions — pv_help","text":"","code":"pv_help() #> ## DEBRIEF FUNCTIONS #>  #> Use pv_help(\"category\") to see functions in a specific category. #> Categories: overview, time, hotspots, memory, calls, source, visualization, comparison, diagnostics, export  #>  #> ### Overview  #>   pv_print_debrief(p)                 Print comprehensive profiling summary #>   pv_debrief(p)                       Get all profiling data as a list #>   pv_help()                           Show this help #>   pv_example()                        Load example profvis data for testing #>  #> ### Time Analysis  #>   pv_self_time(p)                     Functions by self-time (time at top of stack) #>   pv_total_time(p)                    Functions by total time (including callees) #>  #> ### Hot Spots  #>   pv_hot_lines(p)                     Hottest source lines by self-time #>   pv_print_hot_lines(p)               Print hot lines with source context #>   pv_hot_paths(p)                     Most common call stack paths #>   pv_print_hot_paths(p)               Print hot paths in readable format #>   pv_worst_line(p)                    Get the single hottest line with context #>  #> ### Memory Analysis  #>   pv_memory(p)                        Memory allocation by function #>   pv_memory_lines(p)                  Memory allocation by source line #>   pv_print_memory(p)                  Print memory allocation summary #>  #> ### Call Analysis  #>   pv_focus(p, \"func\")                 Deep dive into a specific function #>   pv_callers(p, \"func\")               Who calls this function? #>   pv_callees(p, \"func\")               What does this function call? #>   pv_print_callers_callees(p, \"func\") Print caller/callee analysis #>   pv_call_stats(p)                    Call counts and per-call timing #>   pv_print_call_stats(p)              Print call statistics table #>   pv_call_depth(p)                    Time distribution by call stack depth #>   pv_recursive(p)                     Detect recursive functions #>  #> ### Source Context  #>   pv_source_context(p, \"file.R\")      Show source with profiling overlay #>   pv_file_summary(p)                  Time breakdown by source file #>   pv_print_file_summary(p)            Print file-level summary #>  #> ### Visualization  #>   pv_flame(p)                         Text-based flame graph #>   pv_flame_condense(p)                Condensed flame graph view #>  #> ### Comparison  #>   pv_compare(before, after)           Compare two profiles #>   pv_print_compare(before, after)     Print profile comparison #>   pv_compare_many(...)                Compare multiple profiles #>   pv_print_compare_many(...)          Print multi-profile comparison #>  #> ### Diagnostics  #>   pv_gc_pressure(p)                   Detect garbage collection overhead #>   pv_print_gc_pressure(p)             Print GC pressure analysis #>   pv_suggestions(p)                   Get optimization suggestions #>   pv_print_suggestions(p)             Print actionable suggestions #>  #> ### Export  #>   pv_to_list(p)                       Export as R list #>   pv_to_json(p)                       Export as JSON string #>  #> ### Typical Workflow #>   1. pv_print_debrief(p) #>         -> Get overview, identify hot functions #>   2. pv_focus(p, \"hot_func\") #>         -> Deep dive into the hottest function #>   3. pv_hot_lines(p) #>         -> Find exact lines consuming time #>   4. pv_source_context(p, \"file.R\") #>         -> See code with profiling overlay #>   5. pv_suggestions(p) #>         -> Get optimization recommendations pv_help(\"time\") #> ## DEBRIEF FUNCTIONS #>  #> ### Time Analysis  #>   pv_self_time(p)                     Functions by self-time (time at top of stack) #>   pv_total_time(p)                    Functions by total time (including callees) #>  #> ### Typical Workflow #>   1. pv_print_debrief(p) #>         -> Get overview, identify hot functions #>   2. pv_focus(p, \"hot_func\") #>         -> Deep dive into the hottest function #>   3. pv_hot_lines(p) #>         -> Find exact lines consuming time #>   4. pv_source_context(p, \"file.R\") #>         -> See code with profiling overlay #>   5. pv_suggestions(p) #>         -> Get optimization recommendations pv_help(\"hotspots\") #> ## DEBRIEF FUNCTIONS #>  #> ### Hot Spots  #>   pv_hot_lines(p)                     Hottest source lines by self-time #>   pv_print_hot_lines(p)               Print hot lines with source context #>   pv_hot_paths(p)                     Most common call stack paths #>   pv_print_hot_paths(p)               Print hot paths in readable format #>   pv_worst_line(p)                    Get the single hottest line with context #>  #> ### Typical Workflow #>   1. pv_print_debrief(p) #>         -> Get overview, identify hot functions #>   2. pv_focus(p, \"hot_func\") #>         -> Deep dive into the hottest function #>   3. pv_hot_lines(p) #>         -> Find exact lines consuming time #>   4. pv_source_context(p, \"file.R\") #>         -> See code with profiling overlay #>   5. pv_suggestions(p) #>         -> Get optimization recommendations"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_lines.html","id":null,"dir":"Reference","previous_headings":"","what":"Hot source lines by self-time — pv_hot_lines","title":"Hot source lines by self-time — pv_hot_lines","text":"Returns source lines CPU time spent. Requires source references (use devtools::load_all() best results).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_lines.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hot source lines by self-time — pv_hot_lines","text":"","code":"pv_hot_lines(x, n = NULL, min_pct = 0, min_time_ms = 0)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_lines.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hot source lines by self-time — pv_hot_lines","text":"x profvis object. n Maximum number lines return. NULL, returns pass filters. min_pct Minimum percentage total time include (default 0). min_time_ms Minimum time milliseconds include (default 0).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_lines.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hot source lines by self-time — pv_hot_lines","text":"data frame columns: location: File path line number (e.g., \"R/foo.R:42\") label: Function name location filename: Source file path linenum: Line number samples: Number profiling samples time_ms: Time milliseconds pct: Percentage total time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_lines.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hot source lines by self-time — pv_hot_lines","text":"","code":"p <- pv_example() pv_hot_lines(p) #>            location samples                            label       filename #> 1 example_code.R:13      10                            rnorm example_code.R #> 2  example_code.R:5       3                    generate_data example_code.R #> 3 example_code.R:21       1 result[i] <- sqrt(abs(x[i])) * 2 example_code.R #>   linenum time_ms  pct #> 1      13      50 71.4 #> 2       5      15 21.4 #> 3      21       5  7.1  # Only lines with >= 10% of time pv_hot_lines(p, min_pct = 10) #>            location samples         label       filename linenum time_ms  pct #> 1 example_code.R:13      10         rnorm example_code.R      13      50 71.4 #> 2  example_code.R:5       3 generate_data example_code.R       5      15 21.4"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Hot call paths — pv_hot_paths","title":"Hot call paths — pv_hot_paths","text":"Returns common complete call stacks. shows execution paths code consume time.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hot call paths — pv_hot_paths","text":"","code":"pv_hot_paths(x, n = NULL, include_source = TRUE)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_paths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hot call paths — pv_hot_paths","text":"x profvis object. n Maximum number paths return. NULL, returns . include_source TRUE source references available, include file:line information path labels.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hot call paths — pv_hot_paths","text":"data frame columns: stack: call path (functions separated arrows) samples: Number profiling samples exact path time_ms: Time milliseconds pct: Percentage total time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_hot_paths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hot call paths — pv_hot_paths","text":"","code":"p <- pv_example() pv_hot_paths(p) #>                                                                                                       stack #> 1                             process_data -> generate_data (example_code.R:5) -> rnorm (example_code.R:13) #> 2                  process_data -> generate_data (example_code.R:5) -> x[i] <- rnorm(1) (example_code.R:13) #> 3                                                          process_data -> generate_data (example_code.R:5) #> 4 process_data -> transform_data (example_code.R:6) -> result[i] <- sqrt(abs(x[i])) * 2 (example_code.R:21) #>   samples time_ms  pct #> 1       6      30 42.9 #> 2       4      20 28.6 #> 3       3      15 21.4 #> 4       1       5  7.1"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory.html","id":null,"dir":"Reference","previous_headings":"","what":"Memory allocation by function — pv_memory","title":"Memory allocation by function — pv_memory","text":"Returns memory allocation aggregated function name.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Memory allocation by function — pv_memory","text":"","code":"pv_memory(x, n = NULL)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Memory allocation by function — pv_memory","text":"x profvis object. n Maximum number functions return. NULL, returns .","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Memory allocation by function — pv_memory","text":"data frame columns: label: Function name mem_mb: Memory allocated megabytes","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Memory allocation by function — pv_memory","text":"","code":"p <- pv_example() pv_memory(p) #>                              label    mem_mb #> 1                            rnorm 1.3752670 #> 2                 x[i] <- rnorm(1) 1.2550430 #> 3                    generate_data 0.5630035 #> 4 result[i] <- sqrt(abs(x[i])) * 2 0.3564835"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory_lines.html","id":null,"dir":"Reference","previous_headings":"","what":"Memory allocation by source line — pv_memory_lines","title":"Memory allocation by source line — pv_memory_lines","text":"Returns memory allocation aggregated source location. Requires source references (use devtools::load_all() best results).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory_lines.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Memory allocation by source line — pv_memory_lines","text":"","code":"pv_memory_lines(x, n = NULL)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory_lines.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Memory allocation by source line — pv_memory_lines","text":"x profvis object. n Maximum number lines return. NULL, returns .","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory_lines.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Memory allocation by source line — pv_memory_lines","text":"data frame columns: location: File path line number label: Function name location filename: Source file path linenum: Line number mem_mb: Memory allocated megabytes","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_memory_lines.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Memory allocation by source line — pv_memory_lines","text":"","code":"p <- pv_example() pv_memory_lines(p) #>            location    mem_mb                            label       filename #> 1 example_code.R:13 2.6303101                            rnorm example_code.R #> 2  example_code.R:5 0.5630035                    generate_data example_code.R #> 3 example_code.R:21 0.3564835 result[i] <- sqrt(abs(x[i])) * 2 example_code.R #>   linenum #> 1      13 #> 2       5 #> 3      21"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_depth.html","id":null,"dir":"Reference","previous_headings":"","what":"Print call depth breakdown — pv_print_call_depth","title":"Print call depth breakdown — pv_print_call_depth","text":"Print call depth breakdown","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_depth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print call depth breakdown — pv_print_call_depth","text":"","code":"pv_print_call_depth(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_depth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print call depth breakdown — pv_print_call_depth","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_depth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print call depth breakdown — pv_print_call_depth","text":"Invisibly returns call depth data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_depth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print call depth breakdown — pv_print_call_depth","text":"","code":"p <- pv_example() pv_print_call_depth(p) #> ## CALL DEPTH BREAKDOWN #>  #>  #> Depth  Time (ms)   Pct   Top functions #>     1        70  100.0%  process_data #>     2        70  100.0%  generate_data, transform_data #>     3        55   78.6%  rnorm, x[i] <- rnorm(1), result[i] <- sqrt... #>  #> ### Next steps #> pv_focus(p, \"process_data\") #> pv_flame(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Print call statistics — pv_print_call_stats","title":"Print call statistics — pv_print_call_stats","text":"Print call statistics","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print call statistics — pv_print_call_stats","text":"","code":"pv_print_call_stats(x, n = 20)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print call statistics — pv_print_call_stats","text":"x profvis object. n Number functions show.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print call statistics — pv_print_call_stats","text":"Invisibly returns call stats data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_call_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print call statistics — pv_print_call_stats","text":"","code":"p <- pv_example() pv_print_call_stats(p) #> ## CALL STATISTICS #>  #>  #> Function                               Calls   Total ms    Self ms    ms/call    Pct #> process_data                               1         70          0      70.00 100.0% #> generate_data                              2         65         15      32.50  92.9% #> rnorm                                      4         30         30       7.50  42.9% #> x[i] <- rnorm(1)                           4         20         20       5.00  28.6% #> result[i] <- sqrt(abs(x[i])) * 2           1          5          5       5.00   7.1% #> transform_data                             1          5          0       5.00   7.1% #>  #> ### Next steps #> pv_focus(p, \"process_data\") #> pv_callers(p, \"process_data\")"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_callers_callees.html","id":null,"dir":"Reference","previous_headings":"","what":"Print caller/callee analysis for a function — pv_print_callers_callees","title":"Print caller/callee analysis for a function — pv_print_callers_callees","text":"Shows callers (calls function) callees (function calls) single view.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_callers_callees.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print caller/callee analysis for a function — pv_print_callers_callees","text":"","code":"pv_print_callers_callees(x, func, n = 10)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_callers_callees.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print caller/callee analysis for a function — pv_print_callers_callees","text":"x profvis object. func function name analyze. n Maximum number callers/callees show.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_callers_callees.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print caller/callee analysis for a function — pv_print_callers_callees","text":"Invisibly returns list callers callees data frames.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_callers_callees.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print caller/callee analysis for a function — pv_print_callers_callees","text":"","code":"p <- pv_example() pv_print_callers_callees(p, \"inner\") #> Function 'inner' not found in profiling data. #> Function 'inner' not found in profiling data. #> ## FUNCTION ANALYSIS: inner #>  #>  #> Total time: 0 ms (0.0% of profile) #> Appearances: 0 samples #>  #> ### Called by #>   Callers: none #>  #> ### Calls to #>   Callees: none #>  #> ### Next steps #> pv_focus(p, \"inner\")"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare.html","id":null,"dir":"Reference","previous_headings":"","what":"Print profile comparison — pv_print_compare","title":"Print profile comparison — pv_print_compare","text":"Print profile comparison","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print profile comparison — pv_print_compare","text":"","code":"pv_print_compare(before, after, n = 15)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print profile comparison — pv_print_compare","text":"profvis object (optimization). profvis object (optimization). n Number functions show detailed comparison.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print profile comparison — pv_print_compare","text":"Invisibly returns comparison list.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print profile comparison — pv_print_compare","text":"","code":"p1 <- pv_example() p2 <- pv_example() pv_print_compare(p1, p2) #> ## PROFILE COMPARISON #>  #>  #>  #> ### Overall #> before_ms: 70 #> after_ms: 70 #> diff_ms: +0 #> speedup: 1.00x #>  #> ### Biggest Changes #> Function                           Before      After       Diff   Change #>  #> ### Next steps #> pv_focus(p_before, \"rnorm\") #> pv_focus(p_after, \"rnorm\")"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare_many.html","id":null,"dir":"Reference","previous_headings":"","what":"Print comparison of multiple profiles — pv_print_compare_many","title":"Print comparison of multiple profiles — pv_print_compare_many","text":"Print comparison multiple profiles","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare_many.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print comparison of multiple profiles — pv_print_compare_many","text":"","code":"pv_print_compare_many(...)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare_many.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print comparison of multiple profiles — pv_print_compare_many","text":"... Named profvis objects compare, single named list.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare_many.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print comparison of multiple profiles — pv_print_compare_many","text":"Invisibly returns comparison data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_compare_many.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print comparison of multiple profiles — pv_print_compare_many","text":"","code":"p1 <- pv_example() p2 <- pv_example(\"gc\") pv_print_compare_many(baseline = p1, gc_heavy = p2) #> ## MULTI-PROFILE COMPARISON #>  #>  #> Rank  Profile                    Time (ms)  Samples vs Fastest #>   1*  baseline                          70       14    fastest #>   2   gc_heavy                         100       10      1.43x #>  #> * = fastest"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_debrief.html","id":null,"dir":"Reference","previous_headings":"","what":"Print profiling summary — pv_print_debrief","title":"Print profiling summary — pv_print_debrief","text":"Prints comprehensive text summary profiling data suitable terminal output AI agent consumption.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_debrief.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print profiling summary — pv_print_debrief","text":"","code":"pv_print_debrief(x, n_functions = 10, n_lines = 10, n_paths = 5, n_memory = 5)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_debrief.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print profiling summary — pv_print_debrief","text":"x profvis object profvis::profvis(). n_functions Number top functions show (default 10). n_lines Number hot source lines show (default 10). n_paths Number hot paths show (default 5). n_memory Number memory hotspots show (default 5).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_debrief.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print profiling summary — pv_print_debrief","text":"Invisibly returns result pv_debrief().","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_debrief.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print profiling summary — pv_print_debrief","text":"","code":"p <- pv_example() pv_print_debrief(p) #> ## PROFILING SUMMARY #>  #>  #> Total time: 70 ms (14 samples @ 5 ms interval) #> Source references: available #>  #>  #> ### TOP FUNCTIONS BY SELF-TIME #>     30 ms ( 42.9%)  rnorm #>     20 ms ( 28.6%)  x[i] <- rnorm(1) #>     15 ms ( 21.4%)  generate_data #>      5 ms (  7.1%)  result[i] <- sqrt(abs(x[i])) * 2 #>  #> ### TOP FUNCTIONS BY TOTAL TIME #>     70 ms (100.0%)  process_data #>     65 ms ( 92.9%)  generate_data #>     30 ms ( 42.9%)  rnorm #>     20 ms ( 28.6%)  x[i] <- rnorm(1) #>      5 ms (  7.1%)  result[i] <- sqrt(abs(x[i])) * 2 #>      5 ms (  7.1%)  transform_data #>  #> ### HOT LINES (by self-time) #>     50 ms ( 71.4%)  example_code.R:13 #>                    x[i] <- rnorm(1) #>     15 ms ( 21.4%)  example_code.R:5 #>                    data <- generate_data(n) #>      5 ms (  7.1%)  example_code.R:21 #>                    result[i] <- sqrt(abs(x[i])) * 2 #>  #> ### HOT CALL PATHS #>  #> 30 ms (42.9%) - 6 samples: #>     process_data #>   -> generate_data (example_code.R:5) #>   -> rnorm (example_code.R:13) #>  #> 20 ms (28.6%) - 4 samples: #>     process_data #>   -> generate_data (example_code.R:5) #>   -> x[i] <- rnorm(1) (example_code.R:13) #>  #> 15 ms (21.4%) - 3 samples: #>     process_data #>   -> generate_data (example_code.R:5) #>  #> 5 ms (7.1%) - 1 samples: #>     process_data #>   -> transform_data (example_code.R:6) #>   -> result[i] <- sqrt(abs(x[i])) * 2 (example_code.R:21) #>  #> ### MEMORY ALLOCATION (by function) #>     1.38 MB rnorm #>     1.26 MB x[i] <- rnorm(1) #>     0.56 MB generate_data #>     0.36 MB result[i] <- sqrt(abs(x[i])) * 2 #>  #> ### MEMORY ALLOCATION (by line) #>     2.63 MB example_code.R:13 #>             x[i] <- rnorm(1) #>     0.56 MB example_code.R:5 #>             data <- generate_data(n) #>     0.36 MB example_code.R:21 #>             result[i] <- sqrt(abs(x[i])) * 2 #>  #> ### Next steps #> pv_focus(p, \"rnorm\") #> pv_source_context(p, \"example_code.R\") #> pv_suggestions(p) #> pv_help()"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_file_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Print file summary — pv_print_file_summary","title":"Print file summary — pv_print_file_summary","text":"Print file summary","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_file_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print file summary — pv_print_file_summary","text":"","code":"pv_print_file_summary(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_file_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print file summary — pv_print_file_summary","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_file_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print file summary — pv_print_file_summary","text":"Invisibly returns file summary data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_file_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print file summary — pv_print_file_summary","text":"","code":"p <- pv_example() pv_print_file_summary(p) #> ## FILE SUMMARY #>  #>  #>     70 ms (100.0%)  example_code.R #>  #> ### Next steps #> pv_source_context(p, \"example_code.R\") #> pv_hot_lines(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_gc_pressure.html","id":null,"dir":"Reference","previous_headings":"","what":"Print GC pressure analysis — pv_print_gc_pressure","title":"Print GC pressure analysis — pv_print_gc_pressure","text":"Print GC pressure analysis","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_gc_pressure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print GC pressure analysis — pv_print_gc_pressure","text":"","code":"pv_print_gc_pressure(x, threshold = 10)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_gc_pressure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print GC pressure analysis — pv_print_gc_pressure","text":"x profvis object. threshold Minimum GC percentage report (default 10).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_gc_pressure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print GC pressure analysis — pv_print_gc_pressure","text":"Invisibly returns GC pressure data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_gc_pressure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print GC pressure analysis — pv_print_gc_pressure","text":"","code":"p <- pv_example(\"gc\") pv_print_gc_pressure(p) #> ## GC PRESSURE #>  #>  #> severity: high #> pct: 40.0 #> time_ms: 40 #> issue: High GC overhead (40.0%) #> cause: Excessive memory allocation #> actions: growing vectors, repeated data frame ops, unnecessary copies #>  #> ### Next steps #> pv_print_memory(p, by = \"function\") #> pv_print_memory(p, by = \"line\") #> pv_suggestions(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_lines.html","id":null,"dir":"Reference","previous_headings":"","what":"Print hot lines with source context — pv_print_hot_lines","title":"Print hot lines with source context — pv_print_hot_lines","text":"Prints hot source lines along surrounding code context.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_lines.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print hot lines with source context — pv_print_hot_lines","text":"","code":"pv_print_hot_lines(x, n = 5, context = 3)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_lines.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print hot lines with source context — pv_print_hot_lines","text":"x profvis object. n Number hot lines show. context Number lines show hotspot.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_lines.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print hot lines with source context — pv_print_hot_lines","text":"Invisibly returns hot lines data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_lines.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print hot lines with source context — pv_print_hot_lines","text":"","code":"p <- pv_example() pv_print_hot_lines(p, n = 5, context = 3) #> ## HOT SOURCE LINES #>  #>  #> Rank 1: example_code.R:13 (50 ms, 71.4%) #> Function: rnorm #>  #>        10: generate_data <- function(n) { #>        11:   x <- numeric(n) #>        12:   for (i in seq_len(n)) { #> >      13:     x[i] <- rnorm(1) #>        14:   } #>        15:   x #>        16: } #>  #> Rank 2: example_code.R:5 (15 ms, 21.4%) #> Function: generate_data #>  #>         2: # Example functions for profiling demonstration #>         3:  #>         4: process_data <- function(n) { #> >       5:   data <- generate_data(n) #>         6:   result <- transform_data(data) #>         7:   summarize_data(result) #>         8: } #>  #> Rank 3: example_code.R:21 (5 ms, 7.1%) #> Function: result[i] <- sqrt(abs(x[i])) * 2 #>  #>        18: transform_data <- function(x) { #>        19:   result <- numeric(length(x)) #>        20:   for (i in seq_along(x)) { #> >      21:     result[i] <- sqrt(abs(x[i])) * 2 #>        22:   } #>        23:   result #>        24: } #>  #>  #> ### Next steps #> pv_focus(p, \"rnorm\") #> pv_source_context(p, \"example_code.R\")"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_paths.html","id":null,"dir":"Reference","previous_headings":"","what":"Print hot paths in readable format — pv_print_hot_paths","title":"Print hot paths in readable format — pv_print_hot_paths","text":"Print hot paths readable format","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_paths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print hot paths in readable format — pv_print_hot_paths","text":"","code":"pv_print_hot_paths(x, n = 10, include_source = TRUE)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_paths.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print hot paths in readable format — pv_print_hot_paths","text":"x profvis object. n Number paths show. include_source Include source references output.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_paths.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print hot paths in readable format — pv_print_hot_paths","text":"Invisibly returns hot paths data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_hot_paths.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print hot paths in readable format — pv_print_hot_paths","text":"","code":"p <- pv_example() pv_print_hot_paths(p, n = 3) #> ## HOT CALL PATHS #>  #>  #> Rank 1: 30 ms (42.9%) - 6 samples #>     process_data #>   -> generate_data (example_code.R:5) #>   -> rnorm (example_code.R:13) #>  #> Rank 2: 20 ms (28.6%) - 4 samples #>     process_data #>   -> generate_data (example_code.R:5) #>   -> x[i] <- rnorm(1) (example_code.R:13) #>  #> Rank 3: 15 ms (21.4%) - 3 samples #>     process_data #>   -> generate_data (example_code.R:5) #>  #>  #> ### Next steps #> pv_focus(p, \"rnorm\") #> pv_flame(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_memory.html","id":null,"dir":"Reference","previous_headings":"","what":"Print memory allocation summary — pv_print_memory","title":"Print memory allocation summary — pv_print_memory","text":"Print memory allocation summary","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_memory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print memory allocation summary — pv_print_memory","text":"","code":"pv_print_memory(x, n = 10, by = c(\"function\", \"line\"))"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_memory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print memory allocation summary — pv_print_memory","text":"x profvis object. n Number top allocators show. Either \"function\" \"line\".","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_memory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print memory allocation summary — pv_print_memory","text":"Invisibly returns memory data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_memory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print memory allocation summary — pv_print_memory","text":"","code":"p <- pv_example() pv_print_memory(p, by = \"function\") #> ## MEMORY ALLOCATION BY FUNCTION #>  #>  #>     1.38 MB rnorm #>     1.26 MB x[i] <- rnorm(1) #>     0.56 MB generate_data #>     0.36 MB result[i] <- sqrt(abs(x[i])) * 2 #>  #> ### Next steps #> pv_focus(p, \"rnorm\") #> pv_gc_pressure(p) pv_print_memory(p, by = \"line\") #> ## MEMORY ALLOCATION BY LINE #>  #>  #>     2.63 MB example_code.R:13 #>             x[i] <- rnorm(1) #>     0.56 MB example_code.R:5 #>             data <- generate_data(n) #>     0.36 MB example_code.R:21 #>             result[i] <- sqrt(abs(x[i])) * 2 #>  #> ### Next steps #> pv_focus(p, \"rnorm\") #> pv_source_context(p, \"example_code.R\")"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_recursive.html","id":null,"dir":"Reference","previous_headings":"","what":"Print recursive functions analysis — pv_print_recursive","title":"Print recursive functions analysis — pv_print_recursive","text":"Print recursive functions analysis","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_recursive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print recursive functions analysis — pv_print_recursive","text":"","code":"pv_print_recursive(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_recursive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print recursive functions analysis — pv_print_recursive","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_recursive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print recursive functions analysis — pv_print_recursive","text":"Invisibly returns recursive functions data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_recursive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print recursive functions analysis — pv_print_recursive","text":"","code":"p <- pv_example(\"recursive\") pv_print_recursive(p) #> ## RECURSIVE FUNCTIONS #>  #>  #> Function                       MaxDepth AvgDepth   Total ms      Pct #> recurse                               5      4.0         30   100.0% #>  #> ### Next steps #> pv_focus(p, \"recurse\") #> pv_suggestions(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_suggestions.html","id":null,"dir":"Reference","previous_headings":"","what":"Print optimization suggestions — pv_print_suggestions","title":"Print optimization suggestions — pv_print_suggestions","text":"Print optimization suggestions","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_suggestions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print optimization suggestions — pv_print_suggestions","text":"","code":"pv_print_suggestions(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_suggestions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print optimization suggestions — pv_print_suggestions","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_suggestions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print optimization suggestions — pv_print_suggestions","text":"Invisibly returns suggestions data frame.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_print_suggestions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print optimization suggestions — pv_print_suggestions","text":"","code":"p <- pv_example(\"gc\") pv_print_suggestions(p) #> ## OPTIMIZATION SUGGESTIONS #>  #>  #> ### Priority 1 #>  #> category: hot line #> location: R/work.R:5 #> action: Optimize hot line (60.0%) #> pattern: work #> potential_impact: 60 ms (60.0%) #>  #> ### Priority 2 #>  #> category: memory #> location: memory allocation hotspots #> action: Reduce memory allocation #> pattern: c(x, new), rbind(), growing vectors #> replacement: pre-allocate to final size #> potential_impact: Up to 20 ms (20%) #>  #> category: hot function #> location: work #> action: Profile in isolation (60.0% self-time) #> pattern: work #> potential_impact: 60 ms (60.0%) #>  #>  #> ### Next steps #> pv_hot_lines(p) #> pv_gc_pressure(p)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_recursive.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect recursive functions — pv_recursive","title":"Detect recursive functions — pv_recursive","text":"Identifies functions call (directly recursive) appear multiple times call stack. Recursive functions hot paths often optimization targets.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_recursive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect recursive functions — pv_recursive","text":"","code":"pv_recursive(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_recursive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect recursive functions — pv_recursive","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_recursive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect recursive functions — pv_recursive","text":"data frame columns: label: Function name max_depth: Maximum recursion depth observed avg_depth: Average recursion depth recursive recursive_samples: Number samples function appears multiple times total_samples: Total samples function appears pct_recursive: Percentage appearances recursive total_ms: Total time call stack pct_time: Percentage total profile time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_recursive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect recursive functions — pv_recursive","text":"","code":"p <- pv_example(\"recursive\") pv_recursive(p) #>     label max_depth avg_depth recursive_samples total_samples pct_recursive #> 1 recurse         5         4                 3             3           100 #>   total_ms pct_time #> 1       30      100"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_self_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Self-time summary by function — pv_self_time","title":"Self-time summary by function — pv_self_time","text":"Returns time spent directly function (top call stack). shows CPU cycles actually consumed.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_self_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Self-time summary by function — pv_self_time","text":"","code":"pv_self_time(x, n = NULL, min_pct = 0, min_time_ms = 0)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_self_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Self-time summary by function — pv_self_time","text":"x profvis object. n Maximum number functions return. NULL, returns pass filters. min_pct Minimum percentage total time include (default 0). min_time_ms Minimum time milliseconds include (default 0).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_self_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Self-time summary by function — pv_self_time","text":"data frame columns: label: Function name samples: Number profiling samples time_ms: Time milliseconds pct: Percentage total time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_self_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Self-time summary by function — pv_self_time","text":"","code":"p <- pv_example() pv_self_time(p) #>                              label samples time_ms  pct #> 1                            rnorm       6      30 42.9 #> 2                 x[i] <- rnorm(1)       4      20 28.6 #> 3                    generate_data       3      15 21.4 #> 4 result[i] <- sqrt(abs(x[i])) * 2       1       5  7.1  # Only functions with >= 5% self-time pv_self_time(p, min_pct = 5) #>                              label samples time_ms  pct #> 1                            rnorm       6      30 42.9 #> 2                 x[i] <- rnorm(1)       4      20 28.6 #> 3                    generate_data       3      15 21.4 #> 4 result[i] <- sqrt(abs(x[i])) * 2       1       5  7.1"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_source_context.html","id":null,"dir":"Reference","previous_headings":"","what":"Show source context for a specific location — pv_source_context","title":"Show source context for a specific location — pv_source_context","text":"Displays source code around specific file line number profiling information line.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_source_context.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show source context for a specific location — pv_source_context","text":"","code":"pv_source_context(x, filename, linenum = NULL, context = 10)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_source_context.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show source context for a specific location — pv_source_context","text":"x profvis object. filename source file examine. linenum line number center . NULL, shows hottest line file. context Number lines show .","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_source_context.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show source context for a specific location — pv_source_context","text":"Invisibly returns data frame line--line profiling data.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_source_context.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show source context for a specific location — pv_source_context","text":"","code":"p <- pv_example() pv_source_context(p, \"R/main.R\", linenum = 10) #> File not found in profiling data. #> Available files: #>    example_code.R  #>  #> Run pv_help() to see all available functions."},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_suggestions.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate optimization suggestions — pv_suggestions","title":"Generate optimization suggestions — pv_suggestions","text":"Analyzes profile generates specific, actionable optimization suggestions based detected patterns hotspots.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_suggestions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate optimization suggestions — pv_suggestions","text":"","code":"pv_suggestions(x)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_suggestions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate optimization suggestions — pv_suggestions","text":"x profvis object.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_suggestions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate optimization suggestions — pv_suggestions","text":"data frame columns: priority: 1 (highest) 5 (lowest) category: Type optimization (e.g., \"data structure\", \"algorithm\") location: apply optimization action: pattern: Code pattern look (NA) replacement: Suggested replacement (NA) potential_impact: Estimated time saved","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_suggestions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate optimization suggestions — pv_suggestions","text":"","code":"p <- pv_example(\"gc\") pv_suggestions(p) #>   priority     category                   location #> 1        1     hot line                 R/work.R:5 #> 2        2       memory memory allocation hotspots #> 3        2 hot function                       work #>                                   action                             pattern #> 1              Optimize hot line (60.0%)                                work #> 2               Reduce memory allocation c(x, new), rbind(), growing vectors #> 3 Profile in isolation (60.0% self-time)                                work #>                  replacement  potential_impact #> 1                       <NA>     60 ms (60.0%) #> 2 pre-allocate to final size Up to 20 ms (20%) #> 3                       <NA>     60 ms (60.0%)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_json.html","id":null,"dir":"Reference","previous_headings":"","what":"Export profiling results as JSON — pv_to_json","title":"Export profiling results as JSON — pv_to_json","text":"Exports profiling analysis results JSON format consumption AI agents, automated tools, external applications.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_json.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export profiling results as JSON — pv_to_json","text":"","code":"pv_to_json(   x,   file = NULL,   pretty = TRUE,   include = c(\"summary\", \"self_time\", \"total_time\", \"hot_lines\", \"memory\", \"gc_pressure\",     \"suggestions\", \"recursive\"),   system_info = FALSE )"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_json.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export profiling results as JSON — pv_to_json","text":"x profvis object. file Optional file path write JSON . NULL, returns JSON string. pretty TRUE, formats JSON indentation readability. include Character vector specifying analyses include. Options: \"summary\", \"self_time\", \"total_time\", \"hot_lines\", \"memory\", \"callers\", \"gc_pressure\", \"suggestions\", \"recursive\". Default includes . system_info TRUE, includes R version platform info metadata. Useful reproducibility.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_json.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export profiling results as JSON — pv_to_json","text":"file NULL, returns JSON string. Otherwise writes file returns file path invisibly.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_json.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export profiling results as JSON — pv_to_json","text":"","code":"p <- pv_example() json <- pv_to_json(p) cat(json) #> { #>   \"metadata\": { #>     \"total_time_ms\": 70, #>     \"total_samples\": 14, #>     \"interval_ms\": 5, #>     \"has_source_refs\": true, #>     \"exported_at\": \"2026-02-28T23:16:14+0000\" #>   }, #>   \"summary\": { #>     \"total_time_ms\": 70, #>     \"unique_functions\": 6, #>     \"max_depth\": 3 #>   }, #>   \"self_time\": [ #>     { #>       \"label\": \"rnorm\", #>       \"samples\": 6, #>       \"time_ms\": 30, #>       \"pct\": 42.9 #>     }, #>     { #>       \"label\": \"x[i] <- rnorm(1)\", #>       \"samples\": 4, #>       \"time_ms\": 20, #>       \"pct\": 28.6 #>     }, #>     { #>       \"label\": \"generate_data\", #>       \"samples\": 3, #>       \"time_ms\": 15, #>       \"pct\": 21.4 #>     }, #>     { #>       \"label\": \"result[i] <- sqrt(abs(x[i])) * 2\", #>       \"samples\": 1, #>       \"time_ms\": 5, #>       \"pct\": 7.1 #>     } #>   ], #>   \"total_time\": [ #>     { #>       \"label\": \"process_data\", #>       \"samples\": 14, #>       \"time_ms\": 70, #>       \"pct\": 100 #>     }, #>     { #>       \"label\": \"generate_data\", #>       \"samples\": 13, #>       \"time_ms\": 65, #>       \"pct\": 92.9 #>     }, #>     { #>       \"label\": \"rnorm\", #>       \"samples\": 6, #>       \"time_ms\": 30, #>       \"pct\": 42.9 #>     }, #>     { #>       \"label\": \"x[i] <- rnorm(1)\", #>       \"samples\": 4, #>       \"time_ms\": 20, #>       \"pct\": 28.6 #>     }, #>     { #>       \"label\": \"result[i] <- sqrt(abs(x[i])) * 2\", #>       \"samples\": 1, #>       \"time_ms\": 5, #>       \"pct\": 7.1 #>     }, #>     { #>       \"label\": \"transform_data\", #>       \"samples\": 1, #>       \"time_ms\": 5, #>       \"pct\": 7.1 #>     } #>   ], #>   \"hot_lines\": [ #>     { #>       \"location\": \"example_code.R:13\", #>       \"samples\": 10, #>       \"label\": \"rnorm\", #>       \"filename\": \"example_code.R\", #>       \"linenum\": 13, #>       \"time_ms\": 50, #>       \"pct\": 71.4 #>     }, #>     { #>       \"location\": \"example_code.R:5\", #>       \"samples\": 3, #>       \"label\": \"generate_data\", #>       \"filename\": \"example_code.R\", #>       \"linenum\": 5, #>       \"time_ms\": 15, #>       \"pct\": 21.4 #>     }, #>     { #>       \"location\": \"example_code.R:21\", #>       \"samples\": 1, #>       \"label\": \"result[i] <- sqrt(abs(x[i])) * 2\", #>       \"filename\": \"example_code.R\", #>       \"linenum\": 21, #>       \"time_ms\": 5, #>       \"pct\": 7.1 #>     } #>   ], #>   \"memory\": { #>     \"by_function\": [ #>       { #>         \"label\": \"rnorm\", #>         \"mem_mb\": 1.37526702880859 #>       }, #>       { #>         \"label\": \"x[i] <- rnorm(1)\", #>         \"mem_mb\": 1.25504302978516 #>       }, #>       { #>         \"label\": \"generate_data\", #>         \"mem_mb\": 0.563003540039062 #>       }, #>       { #>         \"label\": \"result[i] <- sqrt(abs(x[i])) * 2\", #>         \"mem_mb\": 0.356483459472656 #>       } #>     ], #>     \"by_line\": [ #>       { #>         \"location\": \"example_code.R:13\", #>         \"mem_mb\": 2.63031005859375, #>         \"label\": \"rnorm\", #>         \"filename\": \"example_code.R\", #>         \"linenum\": 13 #>       }, #>       { #>         \"location\": \"example_code.R:5\", #>         \"mem_mb\": 0.563003540039062, #>         \"label\": \"generate_data\", #>         \"filename\": \"example_code.R\", #>         \"linenum\": 5 #>       }, #>       { #>         \"location\": \"example_code.R:21\", #>         \"mem_mb\": 0.356483459472656, #>         \"label\": \"result[i] <- sqrt(abs(x[i])) * 2\", #>         \"filename\": \"example_code.R\", #>         \"linenum\": 21 #>       } #>     ] #>   }, #>   \"gc_pressure\": [], #>   \"suggestions\": [ #>     { #>       \"priority\": 1, #>       \"category\": \"hot line\", #>       \"location\": \"example_code.R:13\", #>       \"action\": \"Optimize hot line (71.4%)\", #>       \"pattern\": \"rnorm\", #>       \"replacement\": null, #>       \"potential_impact\": \"50 ms (71.4%)\" #>     }, #>     { #>       \"priority\": 1, #>       \"category\": \"hot line\", #>       \"location\": \"example_code.R:5\", #>       \"action\": \"Optimize hot line (21.4%)\", #>       \"pattern\": \"generate_data\", #>       \"replacement\": null, #>       \"potential_impact\": \"15 ms (21.4%)\" #>     }, #>     { #>       \"priority\": 1, #>       \"category\": \"hot line\", #>       \"location\": \"example_code.R:21\", #>       \"action\": \"Optimize hot line (7.1%)\", #>       \"pattern\": \"result[i] <- sqrt(abs(x[i])) * 2\", #>       \"replacement\": null, #>       \"potential_impact\": \"5 ms (7.1%)\" #>     }, #>     { #>       \"priority\": 2, #>       \"category\": \"hot function\", #>       \"location\": \"rnorm\", #>       \"action\": \"Profile in isolation (42.9% self-time)\", #>       \"pattern\": \"rnorm\", #>       \"replacement\": null, #>       \"potential_impact\": \"30 ms (42.9%)\" #>     } #>   ], #>   \"recursive\": [] #> }  # Include only specific analyses json <- pv_to_json(p, include = c(\"self_time\", \"hot_lines\"))  # Include system info for reproducibility json <- pv_to_json(p, system_info = TRUE)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Export profiling results as a list — pv_to_list","title":"Export profiling results as a list — pv_to_list","text":"Returns profiling analysis results nested R list, useful programmatic access results without JSON serialization.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export profiling results as a list — pv_to_list","text":"","code":"pv_to_list(   x,   include = c(\"summary\", \"self_time\", \"total_time\", \"hot_lines\", \"memory\", \"gc_pressure\",     \"suggestions\", \"recursive\"),   system_info = FALSE )"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export profiling results as a list — pv_to_list","text":"x profvis object. include Character vector specifying analyses include. options pv_to_json(). system_info TRUE, includes R version platform info metadata.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export profiling results as a list — pv_to_list","text":"named list containing requested analyses.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_to_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export profiling results as a list — pv_to_list","text":"","code":"p <- pv_example() results <- pv_to_list(p) names(results) #> [1] \"metadata\"    \"summary\"     \"self_time\"   \"total_time\"  \"hot_lines\"   #> [6] \"memory\"      \"gc_pressure\" \"suggestions\" \"recursive\"   results$self_time #>                              label samples time_ms  pct #> 1                            rnorm       6      30 42.9 #> 2                 x[i] <- rnorm(1)       4      20 28.6 #> 3                    generate_data       3      15 21.4 #> 4 result[i] <- sqrt(abs(x[i])) * 2       1       5  7.1"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_total_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Total time summary by function — pv_total_time","title":"Total time summary by function — pv_total_time","text":"Returns time spent function including callees. shows functions call stack time spent.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_total_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Total time summary by function — pv_total_time","text":"","code":"pv_total_time(x, n = NULL, min_pct = 0, min_time_ms = 0)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_total_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Total time summary by function — pv_total_time","text":"x profvis object. n Maximum number functions return. NULL, returns pass filters. min_pct Minimum percentage total time include (default 0). min_time_ms Minimum time milliseconds include (default 0).","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_total_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Total time summary by function — pv_total_time","text":"data frame columns: label: Function name samples: Number profiling samples function appeared time_ms: Time milliseconds pct: Percentage total time","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_total_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Total time summary by function — pv_total_time","text":"","code":"p <- pv_example() pv_total_time(p) #>                              label samples time_ms   pct #> 1                     process_data      14      70 100.0 #> 2                    generate_data      13      65  92.9 #> 3                            rnorm       6      30  42.9 #> 4                 x[i] <- rnorm(1)       4      20  28.6 #> 5 result[i] <- sqrt(abs(x[i])) * 2       1       5   7.1 #> 6                   transform_data       1       5   7.1  # Only functions with >= 50% total time pv_total_time(p, min_pct = 50) #>           label samples time_ms   pct #> 1  process_data      14      70 100.0 #> 2 generate_data      13      65  92.9"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_worst_line.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the single hottest line — pv_worst_line","title":"Get the single hottest line — pv_worst_line","text":"Returns hottest source line full context. Useful quickly identifying #1 optimization target.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_worst_line.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the single hottest line — pv_worst_line","text":"","code":"pv_worst_line(x, context = 5)"},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_worst_line.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the single hottest line — pv_worst_line","text":"x profvis object. context Number source lines include .","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_worst_line.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the single hottest line — pv_worst_line","text":"list : location: File path line number (e.g., \"R/foo.R:42\") label: Function name filename: Source file path linenum: Line number time_ms: Time milliseconds pct: Percentage total time code: source line context: Vector surrounding source lines callers: Data frame functions call location Returns NULL source references available.","code":""},{"path":"https://emilhvitfeldt.github.io/debrief/reference/pv_worst_line.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the single hottest line — pv_worst_line","text":"","code":"p <- pv_example() pv_worst_line(p) #> $location #> [1] \"example_code.R:13\" #>  #> $label #> [1] \"rnorm\" #>  #> $filename #> [1] \"example_code.R\" #>  #> $linenum #> [1] 13 #>  #> $time_ms #> [1] 50 #>  #> $pct #> [1] 71.4 #>  #> $code #> [1] \"x[i] <- rnorm(1)\" #>  #> $context #>  [1] \"}\"                               \"\"                                #>  [3] \"generate_data <- function(n) {\"  \"  x <- numeric(n)\"               #>  [5] \"  for (i in seq_len(n)) {\"       \"    x[i] <- rnorm(1)\"            #>  [7] \"  }\"                             \"  x\"                             #>  [9] \"}\"                               \"\"                                #> [11] \"transform_data <- function(x) {\" #>  #> $callers #>           label samples pct #> 1 generate_data       6 100 #>"}]
